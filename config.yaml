# Walkability Optimization Configuration
# Balıkesir Şehir Merkezi

# Database Configuration
database:
  host: localhost
  port: 5432
  database: walkability_center_db
  user: seker
  password: ""  # Local dev: peer/ident auth, no password
  
# Balıkesir City Center Boundary
# Approximate coordinates for Balıkesir city center
# You may need to adjust these based on actual city boundaries
balikesir:
  name: "Balıkesir City Center"
  boundary:
    # Karesi + Altıeylül kentsel alanını kabaca kapsayan sınırlar
    north: 39.6700  # Latitude
    south: 39.6300
    east: 27.9100   # Longitude
    west: 27.8600
  center:
    latitude: 39.6400
    longitude: 27.8750

# WalkScore Parameters (from paper)
walkscore:
  # Breakpoints for Piecewise Linear Function (meters)
  # Balıkesir merkez için daha keskin bir PWL: 0–400m çok iyi, 400–1600m kademeli düşüş,
  # 2400m civarı orta-kötü, 4km+ çok düşük, 8km+ sıfır.
  breakpoints: [0, 400, 800, 1600, 2400, 4000, 8000]
  # Scores at breakpoints (0-100 scale)
  # 0–400m:100, 400–800m:100→90, 800–1600m:90→70, 1600–2400m:70→40,
  # 2400–4000m:40→10, 4000–8000m:10→0
  scores: [100, 100, 90, 70, 40, 10, 0]
  # Walking speed (m/s) - from Toronto paper: 1.2 m/s
  walking_speed: 1.2
  # 15 minutes in meters: 15 * 60 * 1.2 = 1080 meters
  fifteen_minutes_meters: 1080

# Amenity Weights (from WalkScore methodology)
amenities:
  grocery:
    weight: 1.0
    category: plain  # Single nearest choice
  school:
    weight: 0.8
    category: plain
  restaurant:
    weight: 0.6
    category: depth  # Multiple choices
    depth_count: 10  # Top 10 nearest restaurants

# Depth Weights for restaurants (example distribution)
depth_weights:
  restaurant:
    - rank: 1
      weight: 0.4
    - rank: 2
      weight: 0.2
    - rank: 3
      weight: 0.15
    - rank: 4
      weight: 0.1
    - rank: 5
      weight: 0.05
    - rank: 6
      weight: 0.03
    - rank: 7
      weight: 0.03
    - rank: 8
      weight: 0.02
    - rank: 9
      weight: 0.01
    - rank: 10
      weight: 0.01

# Optimization Parameters
optimization:
  # Maximum number of amenities to allocate per type
  max_amenities_per_type: 9  # k ∈ {1, 2, ..., 9} as in paper
  # Default k for testing
  default_k: 1               # hızlı test için k=1
  
  # FAST MODE: For testing/development
  # Set to null or comment out for production (use ALL data)
  fast_mode_residential_sample: 0   # 0 = disable, use ALL residential
  fast_mode_candidate_sample: 0      # 0 = disable, use ALL candidates
  
  # Solver settings
  milp:
    time_limit_seconds: 18000  # 5 hours as in paper
    threads: 8
    mip_gap: 0.01  # 1% optimality gap
  greedy:
    # No specific parameters needed

# Success Criteria (from presentation)
success_criteria:
  # At least 70% of residential areas can reach all amenities within 15 minutes
  residential_coverage_percentage: 70
  # WalkScore must increase by at least 25 points
  min_walkscore_increase: 25
  # Average walking distance must decrease by at least 30%
  min_distance_reduction_percentage: 30

# OSM Data Collection
osm:
  # Tags for pedestrian network
  pedestrian_tags:
    - highway: footway
    - highway: path
    - highway: pedestrian
    - highway: steps
    - foot: yes
  
  # Tags for residential buildings (ULTRA COMPREHENSIVE)
  residential_tags:
    # ============================================================================
    # PRIMARY RESIDENTIAL BUILDING TYPES
    # ============================================================================
    # Generic residential
    - building: residential           # Genel konut binası
    - building: apartments            # Apartman (çoğul)
    - building: apartment             # Apartman (tekil)
    - building: residential_building  # Konut binası
    
    # Single-family homes (Müstakil evler)
    - building: house                 # Ev, müstakil konut
    - building: detached              # Müstakil ev
    - building: bungalow              # Bungalov
    - building: villa                 # Villa
    - building: cottage               # Kulübe, yazlık
    - building: cabin                 # Kabin, dağ evi
    - building: hut                   # Kulübe, baraka
    - building: chalet                # Dağ evi
    - building: static_caravan        # Sabit karavan
    - building: houseboat             # Ev teknesi
    
    # Semi-detached and row houses (Birleşik evler)
    - building: semidetached_house    # İkiz ev
    - building: semi-detached         # İkiz ev (kısa)
    - building: terrace               # Sıra ev
    - building: townhouse             # Şehir evi, sıra ev
    - building: row_house             # Sıra ev
    
    # Multi-family residential (Çok aileli)
    - building: block                 # Blok apartman
    - building: flats                 # Daireler
    - building: flat                  # Daire
    - building: maisonette            # Dubleks daire
    - building: duplex                # Dubleks
    - building: triplex               # Tripleks
    - building: quadplex              # Dört daireli
    
    # Specialized residential (Özel amaçlı)
    - building: dormitory             # Yurt, öğrenci evi
    - building: student_accommodation # Öğrenci yurdu
    - building: barracks              # Kışla (askeri konut)
    - building: dwelling              # Konut, mesken
    - building: studio                # Stüdyo daire
    
    # Turkish specific residential
    - building: konut                 # Konut (Türkçe)
    - building: apartman              # Apartman (Türkçe)
    - building: daire                 # Daire (Türkçe)
    - building: site                  # Site içi konut
    
    # Generic building (potentially residential)
    - building: yes                   # Tanımsız bina (konut olabilir)
    - building: building              # Genel bina
    
    # ============================================================================
    # LANDUSE RESIDENTIAL AREAS
    # ============================================================================
    - landuse: residential            # Konut alanı
    - landuse: residential_complex    # Konut kompleksi
    
    # ============================================================================
    # PLACE TAGS (may indicate residential areas)
    # ============================================================================
    - place: house                    # Ev yeri
    - place: apartment                # Apartman yeri
    - place: neighbourhood            # Mahalle (residential indicator)
    - place: quarter                  # Semt (residential indicator)
  
  # Tags for amenities (ULTRA COMPREHENSIVE - 4 Core Categories)
  amenity_tags:
    # ============================================================================
    # GROCERY - Market, Bakkal, Süpermarket, Manav (Food & Grocery Shopping)
    # ============================================================================
    grocery:
      # Primary supermarkets and grocery stores
      - shop: supermarket          # Büyük süpermarket (Migros, Şok, BİM, A101)
      - shop: convenience          # Bakkal, küçük market, esnaf
      - shop: grocery              # Genel market, bakkal
      - shop: general              # Genel mağaza (gıda satabilir)
      - shop: food                 # Gıda mağazası
      - shop: greengrocer          # Manav, sebze meyve
      - shop: butcher              # Kasap, et
      - shop: seafood              # Balıkçı
      - shop: cheese               # Peynirci
      - shop: dairy                # Süt ürünleri, mandıra
      - shop: bakery               # Fırın, ekmek
      - shop: pastry               # Pastane
      - shop: confectionery        # Şekerci
      - shop: chocolate            # Çikolata dükkanı
      - shop: spices               # Baharat, aktariye
      - shop: tea                  # Çaycı
      - shop: coffee               # Kahveci
      - shop: frozen_food          # Dondurulmuş gıda
      - shop: organic              # Organik gıda
      - shop: farm                 # Çiftlik ürünleri
      - shop: deli                 # Şarküteri
      - shop: pasta                # Makarna dükkanı
      - shop: herbs                # Şifalı bitkiler, aktariye
      - shop: health_food          # Sağlıklı gıda
      - shop: beverages            # İçecek satışı, meşrubat
      - shop: water                # Su bayii
      - shop: alcohol              # İçki, tekel
      - shop: wine                 # Şarap satışı
      - shop: kiosk                # Büfe, gazete büfesi
      # Department stores and malls (may include grocery)
      - shop: department_store     # Büyük mağaza
      - shop: mall                 # AVM
      - shop: wholesale            # Toptancı, hal
      # Turkish specific - EXPANDED
      - shop: marketplace          # Pazar yeri
      - shop: market               # Market
      - amenity: marketplace       # Halk pazarı, semt pazarı
      # Additional Turkish food shops
      - shop: nuts                 # Kuruyemişçi
      - shop: honey                # Balcı
      - shop: dried_fruit          # Kuru meyve
      - shop: rice                 # Pirinç, bakliyat
      - shop: trade                # Ticaret (bazen market anlamında)
      - shop: variety_store        # Çeşitli ürünler (bakkaliye içerebilir)
      - shop: minimarket           # Minimarket (Türkçe tag, informal)
      # ULTRA COMPREHENSIVE - Every possible food-related tag
      - shop: doityourself         # İnşaat/hırdavat (bazen gıda da satar)
      - shop: hardware             # Hırdavat (bazen gıda satar)
      - shop: local_shop           # Yerel dükkan
      - shop: country_store        # Köy marketi
      - shop: deli                 # Deli, şarküteri
      - shop: eggs                 # Yumurta satışı
      - shop: fish                 # Balık
      - shop: fruit                # Meyve
      - shop: vegetables           # Sebze
      - shop: fruit_and_veg        # Meyve sebze
      - shop: produce              # Ürün satışı
      - shop: Asian                # Asya marketi
      - shop: organic              # Organik
      - shop: milk                 # Süt bayii
      - shop: delicatessen         # Gurme
      - shop: convenience_store    # Convenience (uzun versiyon)
      - shop: corner_shop          # Köşe bakkal
      - shop: newsagent            # Gazete bayii (bazen gıda satar)
      - shop: yes                  # Tanımsız mağaza (gıda olabilir)
      - amenity: vending_machine   # Otomat (gıda satabilir)
      - amenity: fast_food         # Fast food (gıda sayılabilir)
    
    # ============================================================================
    # RESTAURANT - Restoran, Kafe, Lokanta, Yemek (Dining & Food Services)
    # ============================================================================
    restaurant:
      # Primary dining
      - amenity: restaurant        # Restoran
      - amenity: fast_food         # Fast food
      - amenity: cafe              # Kafe
      - amenity: food_court        # Yemek alanı (AVM)
      - amenity: canteen           # Kantin
      - amenity: cafeteria         # Kafeterya
      # Beverages and desserts
      - amenity: ice_cream         # Dondurma
      - amenity: juice_bar         # Meyve suyu barı
      # Social dining
      - amenity: pub               # Pub
      - amenity: bar               # Bar
      - amenity: biergarten        # Bira bahçesi
      - amenity: bbq               # Mangal/barbekü
      # Specific cuisine types (OSM allows cuisine tag)
      - amenity: pizza             # Pizzacı (nadiren bu şekilde tag'lenir)
      - amenity: kebab             # Kebapçı (nadiren)
      # Turkish specific - EXPANDED
      - shop: bakery               # Fırın (bazen yemek de satar)
      - shop: pastry               # Pastane (tatlı)
      - shop: tea                  # Çay ocağı, çaycı
      - shop: coffee               # Kahvehane
      # Street food
      - amenity: street_food       # Sokak yemeği
      # Generic food point
      - amenity: food              # Genel yemek noktası
      # Additional Turkish food culture
      - amenity: kiosk             # Büfe (yemek satan)
      - shop: doner                # Dönerci
      - shop: kebab                # Kebapçı
      - shop: restaurant           # Restoran (shop tag'i ile)
      # Teahouses and traditional cafes
      - amenity: teahouse          # Çayhane
      - amenity: coffeehouse       # Kahvehane
      # ULTRA COMPREHENSIVE - Every possible dining tag
      - amenity: nightclub         # Gece kulübü (yemek servis edebilir)
      - amenity: casino            # Kumarhane (yemek olabilir)
      - amenity: social_club       # Sosyal kulüp
      - amenity: community_centre  # Toplum merkezi (kantin olabilir)
      - amenity: gambling          # Kumar (yemek servis edebilir)
      - amenity: lounge            # Lounge
      - amenity: internet_cafe     # İnternet kafe (yemek servis edebilir)
      - amenity: hookah_lounge     # Nargile kafe
      - amenity: smoking_area      # Sigara alanı (kafe olabilir)
      - shop: beverages            # İçecek satışı (cafe sayılabilir)
      - shop: confectionery        # Şekerci (cafe olabilir)
      - shop: chocolate            # Çikolata (cafe olabilir)
      - shop: ice_cream            # Dondurma
      - shop: sweets               # Tatlı
      - shop: candy                # Şeker
      - shop: dessert              # Tatlı
      - shop: juice                # Meyve suyu
      - shop: smoothie             # Smoothie
      - shop: bubble_tea           # Bubble tea
      - tourism: hotel             # Otel (restoran olabilir)
      - tourism: motel             # Motel (yemek servis edebilir)
      - tourism: guest_house       # Pansiyon (yemek olabilir)
      - tourism: hostel            # Hostel (mutfak/yemek olabilir)
    
    # ============================================================================
    # SCHOOL - Okul, Kreş, Üniversite (Education & Childcare)
    # ============================================================================
    school:
      # Primary and secondary education
      - amenity: school            # İlkokul, ortaokul, lise
      - amenity: kindergarten      # Anaokulu, kreş
      - amenity: college           # Kolej, yüksekokul
      - amenity: university        # Üniversite
      # Specialized education
      - amenity: language_school   # Dil okulu
      - amenity: music_school      # Müzik okulu
      - amenity: driving_school    # Sürücü kursu
      - amenity: training          # Eğitim merkezi
      - amenity: prep_school       # Hazırlık okulu
      - amenity: tutoring          # Dershane, etüt
      # Childcare
      - amenity: childcare         # Çocuk bakımevi
      - amenity: nursery           # Kreş
      - amenity: preschool         # Anaokulu
      # Research and learning
      - amenity: library           # Kütüphane (eğitim kaynağı)
      - amenity: research_institute # Araştırma enstitüsü
      # Building tags that might be schools
      - building: school           # Okul binası
      - building: kindergarten     # Anaokulu binası
      - building: college          # Kolej binası
      - building: university       # Üniversite binası
      # Landuse tags
      - landuse: education         # Eğitim alanı
      # Turkish specific (informal tags)
      - amenity: dershane          # Dershane (Türkçe)
      - amenity: kurs              # Kurs merkezi (Türkçe)
      # ULTRA COMPREHENSIVE - Every possible education tag
      - amenity: cram_school       # Dershane
      - amenity: music_venue       # Müzik mekânı (eğitim olabilir)
      - amenity: arts_centre       # Sanat merkezi (eğitim)
      - amenity: studio            # Stüdyo (eğitim)
      - amenity: dancing_school    # Dans okulu
      - amenity: dive_centre       # Dalış merkezi (eğitim)
      - amenity: training_centre   # Eğitim merkezi
      - amenity: conference_centre # Konferans merkezi (eğitim)
      - amenity: education         # Genel eğitim
      - amenity: learning_centre   # Öğrenim merkezi
      - amenity: public_bookcase   # Kütüphane dolabı
      - leisure: sports_centre     # Spor merkezi (eğitim verebilir)
      - leisure: fitness_centre    # Fitness (eğitim)
      - leisure: dance             # Dans (eğitim)
      - leisure: hackerspace       # Hackerspace (eğitim)
      - office: educational_institution # Eğitim kurumu ofisi
      - shop: books                # Kitapçı (eğitimle ilişkili)
      - shop: stationery           # Kırtasiye (eğitimle ilişkili)
    
    # ============================================================================
    # HEALTHCARE - Sağlık, Hastane, Eczane, Doktor (Health & Medical Services)
    # ============================================================================
    healthcare:
      # Primary healthcare facilities
      - amenity: hospital          # Hastane
      - amenity: clinic            # Klinik, poliklinik
      - amenity: doctors           # Doktor muayenehanesi
      - amenity: doctor            # Doktor (tekil)
      - amenity: dentist           # Diş hekimi
      - amenity: pharmacy          # Eczane
      - amenity: veterinary        # Veteriner
      # Specialized healthcare
      - amenity: healthcare        # Genel sağlık hizmeti
      - amenity: nursing_home      # Huzurevi, bakımevi
      - amenity: social_facility   # Sosyal tesis (sağlık barındırabilir)
      - amenity: health_post       # Sağlık ocağı
      - amenity: maternity         # Doğum evi
      - amenity: physiotherapy     # Fizyoterapi
      - amenity: psychotherapist   # Psikoterapist
      - amenity: optician          # Gözlükçü (sağlık hizmeti)
      - amenity: hearing_aids      # İşitme cihazları
      - amenity: laboratory        # Tıbbi laboratuvar
      - amenity: blood_bank        # Kan bankası
      # Healthcare using healthcare tag
      - healthcare: hospital       # Hastane
      - healthcare: clinic         # Klinik
      - healthcare: doctor         # Doktor
      - healthcare: dentist        # Diş hekimi
      - healthcare: pharmacy       # Eczane
      - healthcare: laboratory     # Laboratuvar
      - healthcare: physiotherapist # Fizyoterapist
      - healthcare: alternative    # Alternatif tıp
      - healthcare: centre         # Sağlık merkezi
      # Building tags
      - building: hospital         # Hastane binası
      - building: clinic           # Klinik binası
      - building: healthcare       # Sağlık binası
      # Turkish specific
      - amenity: saglik_ocagi      # Sağlık ocağı (Türkçe)
      - amenity: aile_sagligi      # Aile sağlığı merkezi (Türkçe)
      # ULTRA COMPREHENSIVE - Every possible healthcare tag
      - healthcare: blood_donation # Kan bağışı
      - healthcare: nurse          # Hemşire
      - healthcare: midwife        # Ebe
      - healthcare: podiatrist     # Ayak doktoru
      - healthcare: psychologist   # Psikolog
      - healthcare: occupational_therapist # İş terapisti
      - healthcare: speech_therapist # Konuşma terapisti
      - healthcare: optometrist    # Optometrist
      - healthcare: dialysis       # Diyaliz
      - healthcare: rehabilitation # Rehabilitasyon
      - healthcare: counselling    # Danışmanlık
      - healthcare: hospice        # Bakımevi
      - healthcare: birthing_center # Doğum merkezi
      - healthcare: sample_collection # Numune alma
      - healthcare: blood_bank     # Kan bankası
      - healthcare: emergency_service # Acil servis
      - amenity: social_centre     # Sosyal merkez (sağlık içerebilir)
      - amenity: retirement_home   # Yaşlı evi
      - amenity: ambulance_station # Ambulans istasyonu
      - amenity: chiropractor      # Kiropraktör
      - amenity: massage           # Masaj (sağlık)
      - amenity: acupuncture       # Akupunktur
      - amenity: herbalist         # Aktariye (sağlık)
      - office: therapist          # Terapist ofisi
      - office: physician          # Hekim ofisi
      - shop: medical_supply       # Tıbbi malzeme
      - shop: optician             # Optik
      - shop: hearing_aids         # İşitme cihazı
      - shop: chemist              # Eczane (İngiliz İngilizcesi)
      - shop: perfumery            # Parfümeri (bazen eczane işlevi)
      - shop: health               # Sağlık mağazası
      - shop: herbalist            # Aktariye
      - shop: nutrition_supplements # Takviye gıda
  
  # Tags for candidate locations (ULTRA COMPREHENSIVE)
  # These are potential locations where new amenities can be placed
  candidate_tags:
    # ============================================================================
    # PARKING AREAS (excellent conversion candidates - Otopark alanları)
    # ============================================================================
    - amenity: parking                # Otopark
    - amenity: parking_space          # Park yeri
    - amenity: parking_entrance       # Otopark girişi
    - amenity: bicycle_parking        # Bisiklet parkı
    - amenity: motorcycle_parking     # Motosiklet parkı
    - parking: surface                # Açık otopark
    - parking: multi-storey           # Katlı otopark
    - parking: underground            # Yeraltı otoparkı
    - parking: yes                    # Genel park alanı
    
    # ============================================================================
    # COMMERCIAL & RETAIL AREAS (Ticari alanlar)
    # ============================================================================
    - landuse: commercial             # Ticari alan
    - landuse: retail                 # Perakende alan
    - landuse: industrial             # Sanayi alanı (dönüştürülebilir)
    - shop: mall                      # AVM (içinde amenity konabilir)
    - building: commercial            # Ticari bina
    - building: retail                # Perakende binası
    - building: office                # Ofis binası (kat boş olabilir)
    - building: warehouse             # Depo (dönüştürülebilir)
    - building: industrial            # Sanayi binası (dönüştürülebilir)
    
    # ============================================================================
    # VACANT & ABANDONED (Boş ve terk edilmiş)
    # ============================================================================
    - shop: vacant                    # Boş dükkan
    - building: abandoned             # Terk edilmiş bina
    - building: ruins                 # Harabe
    - disused: yes                    # Kullanılmayan
    - disused:shop: yes               # Kullanılmayan dükkan
    - disused:building: yes           # Kullanılmayan bina
    - abandoned: yes                  # Terk edilmiş
    - abandoned:shop: yes             # Terk edilmiş dükkan
    - abandoned:building: yes         # Terk edilmiş bina
    - demolished: yes                 # Yıkılmış
    
    # ============================================================================
    # EMPTY OR UNDERUTILIZED LAND (Boş veya az kullanılan arazi)
    # ============================================================================
    - landuse: brownfield             # Eski sanayi alanı
    - landuse: greenfield             # Yeşil alan (yapılaşmamış)
    - landuse: construction           # İnşaat alanı
    - landuse: depot                  # Depo alanı
    - landuse: garages                # Garaj alanı
    - landuse: grass                  # Çimen alan (yapılaşabilir)
    - landuse: meadow                 # Çayır (yapılaşabilir)
    - landuse: allotments             # Bölünmüş araziler
    - natural: grassland              # Otluk alan
    
    # ============================================================================
    # PUBLIC SPACES (good for community amenities - Kamu alanları)
    # ============================================================================
    - amenity: marketplace            # Pazar yeri
    - amenity: community_centre       # Toplum merkezi
    - amenity: public_building        # Kamu binası
    - amenity: social_centre          # Sosyal merkez
    - amenity: townhall               # Belediye binası (içinde alan olabilir)
    - amenity: events_venue           # Etkinlik alanı
    - building: civic                 # Sivil bina
    - building: public                # Kamu binası
    - building: government            # Devlet binası
    
    # ============================================================================
    # SQUARES & OPEN SPACES (Meydan ve açık alanlar)
    # ============================================================================
    - place: square                   # Meydan
    - place: plaza                    # Plaza
    - leisure: common                 # Ortak alan
    - leisure: garden                 # Bahçe (küçük amenity konabilir)
    - leisure: plaza                  # Plaza (leisure tag'i)
    
    # ============================================================================
    # INFRASTRUCTURE (may have extra space - Altyapı)
    # ============================================================================
    - building: service               # Servis binası
    - building: shed                  # Sundurma, baraka
    - building: kiosk                 # Büfe kulübesi
    - building: container             # Konteyner
    - man_made: storage_tank          # Depolama tankı alanı
    - man_made: works                 # İmalathane (boş olabilir)
    
    # ============================================================================
    # TEMPORARY OR FLEXIBLE USE (Geçici veya esnek kullanım)
    # ============================================================================
    - temporary: yes                  # Geçici yapı
    - building: temporary             # Geçici bina
    - building: portable              # Portatif bina
    - building: mobile_home           # Mobil ev (alan olarak)
    
    # ============================================================================
    # TURKISH SPECIFIC
    # ============================================================================
    - amenity: otopark                # Otopark (Türkçe)
    - landuse: bos_alan               # Boş alan (Türkçe, informal)
    - building: bos                   # Boş bina (Türkçe, informal)
  
  # Data Quality Parameters (NEW)
  data_quality:
    # Maximum distance for snapping residential to network nodes (meters)
    max_snapping_distance: 500
    # Minimum distance between duplicate locations (meters)
    duplicate_threshold: 1.0
    # Minimum distance between duplicate amenities (meters)
    amenity_duplicate_threshold: 5.0
    # Maximum distance for candidate locations to be useful (meters)
    max_candidate_distance: 2000
    # Enable data validation
    enable_validation: true
    # Enable duplicate detection
    enable_duplicate_detection: true

# Visualization
visualization:
  map_center:
    latitude: 39.6400
    longitude: 27.8750
  zoom_level: 14
  tile_layer: "OpenStreetMap"
  # Colors
  colors:
    residential: "#3498db"  # Blue
    existing_amenity: "#2ecc71"  # Green
    allocated_amenity: "#e74c3c"  # Red
    candidate_location: "#f39c12"  # Orange
    walkscore_high: "#2ecc71"
    walkscore_medium: "#f39c12"
    walkscore_low: "#e74c3c"

